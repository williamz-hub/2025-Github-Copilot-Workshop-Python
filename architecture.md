# ポモドーロタイマーWebアプリ アーキテクチャ案

## 1. 概要
Flask（Python）＋HTML/CSS/JavaScriptで実装するポモドーロタイマーWebアプリの設計方針。

---

## 2. 構成
- **バックエンド**: Flask
  - タイマー・進捗管理ロジックは独立したPythonモジュール/クラスで実装
  - RESTful APIで進捗データの取得・保存
  - 静的ファイル（HTML, CSS, JS, 画像）の配信
  - データ保存先は抽象化し、テスト時はモックやインメモリ実装も可能
- **フロントエンド**: HTML/CSS/JavaScript
  - タイマーUI（円グラフ、残り時間表示、開始・リセットボタン）
  - 進捗表示（完了数、集中時間）
  - API通信（fetchで進捗データ取得・保存）
  - ロジックは関数化し、テスト容易性を高める

---

## 3. ディレクトリ構成例
```
/プロジェクトルート/
├── app.py                # Flaskアプリ本体
├── templates/
│   └── index.html        # メイン画面
├── static/
│   ├── css/
│   │   └── style.css     # デザイン
│   ├── js/
│   │   └── timer.js      # タイマー・進捗ロジック
│   └── img/
│       └── pomodoro.png  # アイコン等
├── data/
│   └── progress.json     # 進捗データ（簡易DB、必要なら）
├── tests/
│   ├── test_timer.py
│   └── test_progress_manager.py
└── architecture.md       # アーキテクチャまとめ
```

---

## 4. ユニットテスト容易化の工夫
- バックエンドのロジックはFlaskルートから分離し、独立したモジュール/クラスで管理
- データ保存・取得はインターフェース化し、テスト時はモック化可能
- APIは入出力を明確にし、テストしやすい設計
- フロントエンドのタイマー・進捗計算は関数化し、Jest等でテスト可能
- API通信部も関数化し、モック化しやすく
- テスト用設定やダミーデータの用意

---

## 5. 実装ポイント
- タイマーはJSで管理（サーバー側で厳密な時間管理が不要な場合）
- 進捗データはサーバー側で保存（ファイル or DB）
- 状態管理は最初はシンプルに（必要なら後でユーザー認証やDB導入）
- CI/CD連携（GitHub Actions等）で自動テスト

---

## 6. UI/UX
- 添付画像のようなモダンなUI
- レスポンシブ対応（PC/スマホ両方）

---

## 7. 今後の拡張性
- ユーザー認証、DB導入、複数ユーザー対応なども容易に追加可能な設計

---

以上の方針で設計・実装を進める。
